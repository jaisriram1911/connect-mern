{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { loginWithGoogle, authenticate, isAuth } from '../../actions/auth';\nimport Router from 'next/router';\nimport GoogleLogin from 'react-google-login';\nimport { GOOGLE_CLIENT_ID } from '../../config';\n\nconst GoolgeButton = () => {\n  const responseGoogle = response => {\n    console.log(response);\n    const tokenId = response.tokenId;\n    const user = {\n      tokenId\n    };\n    loginWithGoogle(user).then(data => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        authenticate(data, () => {\n          if (isAuth() && isAuth().role === 1) {\n            Router.push('/admin');\n          } else {\n            Router.push('/user');\n          }\n        });\n      }\n    });\n  };\n\n  return __jsx(\"div\", {\n    className: \"\"\n  }, __jsx(GoogleLogin, {\n    clientId: `${GOOGLE_CLIENT_ID}`,\n    buttonText: \"Login with google\",\n    onSuccess: responseGoogle,\n    onFailure: responseGoogle\n  }));\n};\n\nexport default GoolgeButton;","map":null,"metadata":{},"sourceType":"module"}