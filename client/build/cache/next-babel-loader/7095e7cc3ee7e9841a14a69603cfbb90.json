{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport Head from 'next/head';\nimport Link from 'next/link';\nimport ReactHtmlParser from \"react-html-parser\";\nimport { userPublicProfile } from '../../actions/user';\nimport { DOMAIN, API } from '../../config';\nimport './profile.css';\n\nconst userProfile = ({\n  user,\n  blogs,\n  query\n}) => {\n  const head = () => __jsx(Head, null, __jsx(\"title\", null, `Connect | ${user.name}`), __jsx(\"meta\", {\n    name: \"description\",\n    content: `Blogs by ${query.username}`\n  }), __jsx(\"link\", {\n    rel: \"canonical\",\n    href: `${DOMAIN}/profile/${query.username}`\n  }), __jsx(\"meta\", {\n    property: \"og:title\",\n    content: `Blog App | ${user.name}`\n  }), __jsx(\"meta\", {\n    property: \"og:description\",\n    content: `Blogs by ${query.username}`\n  }), __jsx(\"meta\", {\n    property: \"og:type\",\n    content: \"website\"\n  }), __jsx(\"meta\", {\n    property: \"og:url\",\n    content: `${DOMAIN}/profile/${query.username}`\n  }), __jsx(\"meta\", {\n    property: \"og:image\",\n    content: `${DOMAIN}/static/images/blogimage.jpg`\n  }), __jsx(\"meta\", {\n    property: \"og:site_name\",\n    content: \"Blog App\"\n  }), __jsx(\"meta\", {\n    property: \"og:image:secure_url\",\n    content: `${DOMAIN}/static/images/blogimage.jpg`\n  }), __jsx(\"meta\", {\n    property: \"og:image:type\",\n    content: \"image/jpg\"\n  }));\n\n  const showBlogs = () => {\n    return blogs.map((blog, i) => {\n      return __jsx(\"div\", {\n        className: \"profile-page_card mb-5\",\n        key: i\n      }, __jsx(\"img\", {\n        className: \"profile-page_card-blog-photo\",\n        src: `${API}/blog/photo/${blog.slug}`,\n        alt: blog.slug\n      }), __jsx(\"div\", {\n        className: \"ml-5 profile-page_card-blog\"\n      }, __jsx(\"div\", null, __jsx(\"h6\", {\n        className: \"profile-page_card-blog-title\"\n      }, blog.title), __jsx(\"p\", {\n        className: \"profile-page_card-blog-para\"\n      }, ReactHtmlParser(blog.mdesc), \"...\")), __jsx(\"div\", null, __jsx(Link, {\n        href: `/blogs/${blog.slug}`\n      }, __jsx(\"a\", {\n        className: \"btn btn-dark btn-sm\"\n      }, \"Read more\")))));\n    });\n  };\n\n  const showPhoto = () => {\n    if (user.photo) {\n      return __jsx(\"div\", null, __jsx(\"img\", {\n        className: \"profile-user_photo image-test mt-5 mb-3\",\n        src: `${API}/user/photo/${query.username}`,\n        alt: query.username\n      }));\n    } else {\n      return __jsx(\"div\", {\n        className: \"profile-user_no-photo mt-5 mb-3\"\n      }, __jsx(\"i\", {\n        class: \"fas fa-4x fa-user\"\n      }));\n    }\n  };\n\n  const showAbout = () => {\n    if (user.about) {\n      return __jsx(\"p\", {\n        className: \"profile-page_user-about\"\n      }, user.about);\n    } else {\n      return __jsx(\"p\", {\n        className: \"mt-5 profile-page_user-about\"\n      }, \"no about\");\n    }\n  };\n\n  return __jsx(React.Fragment, null, head(), __jsx(\"div\", {\n    className: \"profile-page\"\n  }, __jsx(\"div\", {\n    className: \"profile-page_left-box\"\n  }, __jsx(\"a\", {\n    href: \"/\",\n    style: {\n      color: '#363636',\n      textDecoration: \"none\"\n    }\n  }, __jsx(\"i\", {\n    class: \"fas fa-2x fa-long-arrow-alt-left\"\n  })), showPhoto(), __jsx(\"div\", {\n    className: \"profile-name-flex\"\n  }, __jsx(\"h1\", {\n    className: \"profile-page_user-name\"\n  }, user.name, \" \", __jsx(\"a\", {\n    style: {\n      color: '#363636'\n    },\n    href: \"/user/update\",\n    className: \"ml-4\"\n  }, __jsx(\"i\", {\n    class: \"fas fa-pen\"\n  }))), showAbout())), __jsx(\"div\", {\n    className: \"profile-page_right-box\"\n  }, __jsx(\"h4\", {\n    className: \"mt-1 profile-page_blog-box-title\"\n  }, \"Blogs created by \", user.name), __jsx(\"div\", {\n    className: \"mt-5 profile-page_blog-list\"\n  }, showBlogs()))));\n};\n\nuserProfile.getInitialProps = ({\n  query\n}) => {\n  return userPublicProfile(query.username).then(data => {\n    if (data.error) {\n      console.log(data.error);\n    } else {\n      return {\n        user: data.user,\n        blogs: data.blogs,\n        query\n      };\n    }\n  });\n};\n\nexport default userProfile;","map":null,"metadata":{},"sourceType":"module"}